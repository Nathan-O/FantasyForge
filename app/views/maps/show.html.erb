<script type="text/javascript" src="/assets/maps-show.js"></script>

<div class="page-wrap">
   <header>
      <div class="page-header">
         <h1 class="page-title">Map Profile</h1>
      </div>
   </header>

   <div class="row">
      <div class="col-md-10 col-md-offset-1">
         <h1 id="map-title"> <%= @map.title %> </h1>

         <hr>

         <h3> Created By: <%= @creator.first_name %> </h3>

         <p> <%= @user.username %> is the one logged in. FYI. </p>
      </div>
   </div>

   <!-- selectpicker show-tick -->
   <div class="row">
      <div class="col-md-3 col-md-offset-1">
         <div class="select-control" id="version-select-wrap">
            <select class="form-control" id="version-select">
               <option value="<%= @map.subtitle %>"><%= @map.subtitle %></option>
               <% @versions = @map.versions %>
               <% @versions.each do |version| %>
               <option value="<%= version.subtitle %>"><%= version.subtitle %></option>
               <% end %>
            </select>
         </div>
      </div>
   </div>

   <br>

   <div class="row">
      <div class="col-md-10 col-md-offset-1">
         <div class="image-wrap">
            <img class="map-img-main" id="<%= @map.subtitle %>" src="<%= @map.url %>">
         </div>
      </div>
   </div>



   <hr>

   <!-- VERSION CREATION CONTROLS (SENDS TO VERSION AND IS CREATED OFF OF CURRENTLY VIEWED VERSION) -->
   <!-- <= button_to  > -->
   <div class="row">
      <div class="col-md-10 col-md-offset-1">
         <a href="/maps/<%= @map.id %>/versions/new"><button class="btn btn-sm btn-default">Created New Version</button></a>
         <br>
         <div>
            <% if @map.versions %>
               <!-- TEST TEST TEST -->
               <% num = 0 %>
               <ul>
               <% @versions.each do |version| %>
               <% num += 1 %>
               <% end %>
               </ul>
               <h4>Number of versions: <strong> <%= num %> </strong></h4>
            <% else %>
               <h4>Master Version Only</h4>
            <% end %>
         </div>

      </div>
   </div>





</div>


<!--
NOTE: POSSIBLY WAY TO SHOWCASE MULTIPLE VERSIONS:

!! NOTE !! New versions are NOT edits to the map.
           Edits change the base map. Versions are
           separete pictures.

* On "edit" New picture gets saved to database. On view user can select which
   versions to see based on a drop down select box that will toggle a view
   hidden function on a list of pictures. (# NOTE: This would cause all versions to
                                                   be loaded to the DOM when the
                                                   document is rendered.)

* User can give subtitle to Maps that will name the versions. (# NOTE: This means I'll need another
                                                                       model, Versions model. Versions
                                                                       routes. Versions controller. etc...
                                                                       Also will need to add a new column
                                                                       to the table.)



-->
